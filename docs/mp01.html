<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Maria Cristina Moreno">

<title>Exploring the Most Popular Programming on Netflix – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9b8f6c33b8a184d254b5eaa30f9d0661.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploring the Most Popular Programming on Netflix</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Maria Cristina Moreno </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>INTRODUCTION</h1>
<p>This project explores the most popular programming on Netflix. It focuses on three main aspects:</p>
<ol type="1">
<li>Data Cleaning and Visualization — inspecting and preparing the raw Netflix Top 10 datasets.</li>
<li>Exploring Key Questions — answering research-style questions with R and dplyr.</li>
<li>Press Releases — presenting three short reports inspired by the data:
<ul>
<li>Stranger Things Sets the Stage for a Record-Breaking Final Season</li>
<li>India: A Rising Streaming Powerhouse</li>
<li>Money Heist: Global Success Across Markets</li>
</ul></li>
</ol>
<section id="data-cleaning-and-visualization" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning-and-visualization">Data Cleaning and Visualization</h2>
</section>
<section id="global-top-10" class="level2">
<h2 class="anchored" data-anchor-id="global-top-10">Global Top 10</h2>
<p>In the first step, the dataset was preparated by cleaning missing values (e.g., handling NAs), standardizing titles, and converting runtimes from hours to minutes. The table below displays the <strong>Global Top 10</strong> with the following attributes: <em>week, category, weekly rank, show title, season title, weekly hours viewed, runtime (minutes), weekly views, and cumulative weeks</em> in the Top 10. The data were obtained from Netflix’s official <a href="https://www.netflix.com/tudum/top10">Top 10</a> . To aid interpretation, we now visualize the table.</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-82b60e01b479f1e80134" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-82b60e01b479f1e80134">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21"],["Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["The Wrong Paris","KPop Demon Hunters","Ice Road: Vengeance","aka Charlie Sheen","The Mule","Unknown Number: The High School Catfish","The Thursday Murder Club","Sonic the Hedgehog 3","War Dogs","Terror Comes Knocking: The Marcela Borges Story","She Said Maybe","Saiyaara","Fall for Me","Anaconda: Cursed Jungle","Mahavatar Narsimha","A Bright Lawyer","Love Untangled","Kontrabida Academy","Dasim","Inspector Zende"],[null,null,null,"aka Charlie Sheen: Season 1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[38900000,35400000,14400000,21800000,10900000,7100000,7800000,6300000,5800000,4000000,12900000,11900000,4800000,3700000,5000000,3300000,3700000,3000000,2000000,2000000],[1.7833,1.6667,1.8833,3.0333,1.7,1.5833,2,1.8333,1.9,1.4333,1.7833,2.5,1.75,1.4,2.1833,1.6167,2.0167,1.8167,1.65,1.8667],[21800000,21200000,7600000,7200000,6400000,4500000,3900000,3400000,3100000,2800000,7200000,4800000,2700000,2600000,2300000,2000000,1800000,1700000,1200000,1100000],[2,14,1,2,2,4,4,1,1,1,1,2,5,1,1,1,4,2,1,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Week<\/th>\n      <th>Category<\/th>\n      <th>Weekly Rank<\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Weekly Hours Viewed<\/th>\n      <th>Runtime<\/th>\n      <th>Weekly Views<\/th>\n      <th>Cumulative Weeks In Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Week","targets":1},{"name":"Category","targets":2},{"name":"Weekly Rank","targets":3},{"name":"Show Title","targets":4},{"name":"Season Title","targets":5},{"name":"Weekly Hours Viewed","targets":6},{"name":"Runtime","targets":7},{"name":"Weekly Views","targets":8},{"name":"Cumulative Weeks In Top 10","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
<section id="country-top-10" class="level3">
<h3 class="anchored" data-anchor-id="country-top-10">Country Top 10</h3>
<p>In the same way, the <strong>Country Top 10</strong> dataset was cleaned, standardizing titles and preparing it for the exploratory questions that follow. For this analysis, we rely on the following attributes: <em>country name, country ISO code (country abbreviation), week, category, weekly rank, show title, season title, and cumulative weeks in the Top 10</em>. This dataset was also obtained from Netflix’s <a href="https://www.netflix.com/tudum/top10">Top 10</a>. To aid interpretation, we now visualize the table.</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ced35bf66568eb77e91e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ced35bf66568eb77e91e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina","Argentina"],["AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR","AR"],["2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21","2025-09-21"],["Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","TV","TV","TV","TV","TV","TV","TV","TV","TV","TV"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["The Mule","The Wrong Paris","KPop Demon Hunters","She Said Maybe","War Dogs","Sonic the Hedgehog 3","Ocean's 8","Into the Wild","Fall for Me","A Bright Lawyer","Maledictions","Billionaires' Bunker","Wednesday","Black Rabbit","Two Graves","The Dead Girls","Bon Appétit, Your Majesty","In the Mud","Beauty in Black","My Life With the Walter Boys"],[null,null,null,null,null,null,null,null,null,null,"Maledictions: Limited Series","Billionaires' Bunker: Season 1","Wednesday: Season 2","Black Rabbit: Limited Series","Two Graves: Limited Series","The Dead Girls: Limited Series","Bon Appétit, Your Majesty: Limited Series","In the Mud: Season 1","Beauty in Black: Season 2","My Life With the Walter Boys: Season 2"],[1,2,14,1,1,1,2,1,5,1,2,1,7,1,4,2,4,6,1,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country Name<\/th>\n      <th>Country Iso2<\/th>\n      <th>Week<\/th>\n      <th>Category<\/th>\n      <th>Weekly Rank<\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Cumulative Weeks In Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":[5,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Country Name","targets":1},{"name":"Country Iso2","targets":2},{"name":"Week","targets":3},{"name":"Category","targets":4},{"name":"Weekly Rank","targets":5},{"name":"Show Title","targets":6},{"name":"Season Title","targets":7},{"name":"Cumulative Weeks In Top 10","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>
<section id="exploratory-questions" class="level1">
<h1>Exploratory Questions</h1>
<p>The following questions apply <strong>dplyr</strong> tools to generate answers, which are displayed as quarto’s inline code or interactive tables using the DT package.</p>
<section id="q1.-how-many-different-countries-does-netflix-operate-in" class="level4">
<h4 class="anchored" data-anchor-id="q1.-how-many-different-countries-does-netflix-operate-in">Q1. How many different countries does Netflix operate in?</h4>
<p>Based on viewing history, Netflix operates in <strong>94</strong> countries in this dataset.</p>
</section>
<section id="q2.-which-non-english-language-film-has-spent-the-most-cumulative-weeks-in-the-global-top-10-how-many-weeks-did-it-spend" class="level4">
<h4 class="anchored" data-anchor-id="q2.-which-non-english-language-film-has-spent-the-most-cumulative-weeks-in-the-global-top-10-how-many-weeks-did-it-spend">Q2. Which non-English-language film has spent the most cumulative weeks in the global top 10? How many weeks did it spend?</h4>
<p>The non-English-language film with the most cumulative weeks in the global Top 10 is <strong>All Quiet on the Western Front</strong>, with <strong>23</strong> weeks.</p>
<p>The table below summarize this result:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5aff649e548649bf989c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5aff649e548649bf989c">{"x":{"filter":"none","vertical":false,"data":[["1"],["All Quiet on the Western Front"],[23]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Film Title<\/th>\n      <th>Cumulative Weeks in Global Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Film Title","targets":1},{"name":"Cumulative Weeks in Global Top 10","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q3.-what-is-the-longest-film-english-or-non-english-to-have-ever-appeared-in-the-netflix-global-top-10-how-long-is-it-in-minutes" class="level4">
<h4 class="anchored" data-anchor-id="q3.-what-is-the-longest-film-english-or-non-english-to-have-ever-appeared-in-the-netflix-global-top-10-how-long-is-it-in-minutes">Q3. What is the longest film (English or non-English) to have ever appeared in the Netflix global Top 10? How long is it in minutes?</h4>
<p>The table below summarizes the longest runtime film:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac1bcb847d826cea3ef5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac1bcb847d826cea3ef5">{"x":{"filter":"none","vertical":false,"data":[["1"],["Until You Burn"],[2855]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Film/Show Title<\/th>\n      <th>Runtime (minutes)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Film/Show Title","targets":1},{"name":"Runtime (minutes)","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q4.-for-each-of-the-four-categories-what-program-has-the-most-total-hours-of-global-viewership" class="level4">
<h4 class="anchored" data-anchor-id="q4.-for-each-of-the-four-categories-what-program-has-the-most-total-hours-of-global-viewership">Q4. For each of the four categories, what program has the most total hours of global viewership?</h4>
<p>The following table summarizes the different categories, according to their most-watched show/film hours:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-242c14ea41897d1f7006" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-242c14ea41897d1f7006">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["TV (Non-English)","TV (English)","Films (English)","Films (Non-English)"],["Squid Game","Stranger Things","KPop Demon Hunters","Society of the Snow"],[5048300000,2967980000,559100000,235900000]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Category<\/th>\n      <th>Show/Film Title<\/th>\n      <th>Total Hours Viewed<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Category","targets":1},{"name":"Show/Film Title","targets":2},{"name":"Total Hours Viewed","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q5.-which-tv-show-had-the-longest-run-in-a-countrys-top-10-how-long-was-this-run-and-in-what-country-did-it-occur" class="level4">
<h4 class="anchored" data-anchor-id="q5.-which-tv-show-had-the-longest-run-in-a-countrys-top-10-how-long-was-this-run-and-in-what-country-did-it-occur">Q5. Which TV show had the longest run in a country’s Top 10? How long was this run and in what country did it occur?</h4>
<p><em>Money Heist</em> recorded the longest run on a country’s Top 10 chart, staying <strong>127</strong> weeks in <strong>Pakistan</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f9fd75aa26119f76bd06" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f9fd75aa26119f76bd06">{"x":{"filter":"none","vertical":false,"data":[["1"],["Money Heist"],["Pakistan"],[127]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Country<\/th>\n      <th>Longest Run (weeks)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Country","targets":2},{"name":"Longest Run (weeks)","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q6.-netflix-provides-over-200-weeks-of-service-history-for-all-but-one-country-in-our-data-set.-which-country-is-this-and-when-did-netflix-cease-operations-in-that-country" class="level4">
<h4 class="anchored" data-anchor-id="q6.-netflix-provides-over-200-weeks-of-service-history-for-all-but-one-country-in-our-data-set.-which-country-is-this-and-when-did-netflix-cease-operations-in-that-country">Q6. Netflix provides over 200 weeks of service history for all but one country in our data set. Which country is this and when did Netflix cease operations in that country?</h4>
<p>In our dataset, Russia is the only country with fewer than 200 weeks of service history, with its final week recorded as February 27, 2022. Shortly thereafter, Netflix suspended service in Russia following the invasion of Ukraine (see <a href="https://www.cnbc.com/2022/03/06/netflix-suspends-service-in-russia.html">Netflix suspends service in Russia</a>).</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a6e2f036f088f2ef4c5c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a6e2f036f088f2ef4c5c">{"x":{"filter":"none","vertical":false,"data":[["1"],["Russia"],[35],["2022-02-27"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>Weeks of Service<\/th>\n      <th>Last week operated<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Country","targets":1},{"name":"Weeks of Service","targets":2},{"name":"Last week operated","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q7.-what-is-the-total-viewership-of-the-tv-show-squid-game" class="level4">
<h4 class="anchored" data-anchor-id="q7.-what-is-the-total-viewership-of-the-tv-show-squid-game">Q7. What is the total viewership of the TV show Squid Game?</h4>
<p>The table below summarizes the viewership for each season of Squid Game. Squid Game:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-43983880854facdc154b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-43983880854facdc154b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["Squid Game: Season 1","Squid Game: Season 2","Squid Game: Season 3","Squid Game: The Challenge: Season 1"],[2729400000,1445500000,873400000,261700000]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Season<\/th>\n      <th>Total Hours Viewed<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Season","targets":1},{"name":"Total Hours Viewed","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
<p>Across all seasons, Squid Game has <strong>5,310,000,000</strong> total hours of global viewership in this dataset</p>
</section>
<section id="q8.-the-movie-red-notice-has-a-runtime-of-1-hour-and-58-minutes.-approximately-how-many-views-did-it-receive-in-2021" class="level4">
<h4 class="anchored" data-anchor-id="q8.-the-movie-red-notice-has-a-runtime-of-1-hour-and-58-minutes.-approximately-how-many-views-did-it-receive-in-2021">Q8. The movie Red Notice has a runtime of 1 hour and 58 minutes. Approximately how many views did it receive in 2021?</h4>
<p>Approximately Red Notice received a total of <strong>3,362,203</strong> views in 2021.</p>
</section>
<section id="q9.-how-many-films-reached-number-1-in-the-us-but-did-not-originally-debut-there" class="level4">
<h4 class="anchored" data-anchor-id="q9.-how-many-films-reached-number-1-in-the-us-but-did-not-originally-debut-there">Q9. How many Films reached Number 1 in the US but did not originally debut there?</h4>
<p>In the United States, <strong>45</strong> films reached #1 in the US after not debuting at #1 there. The most recent was <strong>KPop Demon Hunters</strong> (week of <strong>September 14, 2025</strong>). The following table show details of the country list:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-99c494630a496083a035" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-99c494630a496083a035">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45"],["KPop Demon Hunters","Unknown Number: The High School Catfish","Plane","The Wild Robot","Despicable Me 4","Aftermath","Despicable Me 2","Don't Move","The Garfield Movie","Uglies","Jack Reacher: Never Go Back","Irish Wish","Lover, Stalker, Killer","The Postcard Killings","The Hill","No Hard Feelings","American Made","Love Again","Hidden Strike","They Cloned Tyrone","Puss in Boots: The Last Wish","The Boss Baby","Missing","Whitney Houston: I Wanna Dance with Somebody","Dog Gone","Prisoners","Bullet Train","Slumberland","Where the Crawdads Sing","Enola Holmes 2","Luckiest Girl Alive","Last Seen Alive","Lou","Father Stu","End of the Road","Day Shift","Uncharted","Purple Hearts","The Sea Beast","The Tinder Swindler","He's All That","The Vault","Blood Red Sky","Twilight","Mother's Day"],["2025-06-22","2025-08-31","2025-06-15","2025-05-25","2025-03-02","2021-08-08","2022-02-06","2024-10-27","2024-09-22","2024-09-15","2024-08-04","2024-03-17","2024-02-11","2024-01-28","2024-01-21","2023-10-22","2023-10-08","2023-09-03","2023-07-30","2023-07-23","2023-07-16","2023-05-28","2023-05-21","2023-04-23","2023-01-15","2022-12-11","2022-12-04","2022-11-20","2022-11-13","2022-11-06","2022-10-09","2022-10-02","2022-09-25","2022-09-18","2022-09-11","2022-08-14","2022-08-07","2022-07-31","2022-07-10","2022-02-06","2021-08-29","2021-08-01","2021-07-25","2021-07-18","2021-07-04"],[6,4,2,3,2,4,2,3,4,2,2,2,2,7,9,3,9,3,2,3,3,6,5,2,4,4,2,3,4,2,2,4,2,6,2,2,2,2,5,3,2,9,5,3,5],["2025-09-14","2025-09-07","2025-06-22","2025-06-01","2025-03-09","2025-02-16","2025-01-12","2024-11-03","2024-10-06","2024-09-22","2024-08-11","2024-03-24","2024-02-18","2024-02-04","2024-01-28","2023-10-29","2023-10-15","2023-09-10","2023-08-06","2023-07-30","2023-07-23","2023-06-11","2023-05-28","2023-04-30","2023-01-22","2022-12-18","2022-12-11","2022-11-27","2022-11-20","2022-11-13","2022-10-16","2022-10-09","2022-10-02","2022-09-25","2022-09-18","2022-08-21","2022-08-14","2022-08-07","2022-07-17","2022-02-13","2021-09-05","2021-08-08","2021-08-01","2021-07-25","2021-07-11"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Film Title<\/th>\n      <th>Debut Week<\/th>\n      <th>Debut Rank<\/th>\n      <th>Last Week at #1<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Film Title","targets":1},{"name":"Debut Week","targets":2},{"name":"Debut Rank","targets":3},{"name":"Last Week at #1","targets":4}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="q10.which-tv-showseason-hit-the-top-10-in-the-most-countries-in-its-debut-week-in-how-many-countries-did-it-chart" class="level4">
<h4 class="anchored" data-anchor-id="q10.which-tv-showseason-hit-the-top-10-in-the-most-countries-in-its-debut-week-in-how-many-countries-did-it-chart">Q10.Which TV show/season hit the top 10 in the most countries in its debut week? In how many countries did it chart?</h4>
<p><em>Emily in Paris</em> achieved the widest debut reach, entering the Top 10 in 94 countries during its debut week ( December 26, 2021).</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f7988e51775515425d1d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f7988e51775515425d1d">{"x":{"filter":"none","vertical":false,"data":[["1"],["Emily in Paris"],["Emily in Paris: Season 2"],["2021-12-26"],[94]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Season<\/th>\n      <th>Debut Week<\/th>\n      <th>Countries in Debut Week<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":4},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Season","targets":2},{"name":"Debut Week","targets":3},{"name":"Countries in Debut Week","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="stranger-things-sets-the-stage-for-a-record-breaking-final-season" class="level2">
<h2 class="anchored" data-anchor-id="stranger-things-sets-the-stage-for-a-record-breaking-final-season">Stranger Things Sets the Stage for a Record-Breaking Final Season</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="stranger_things.jpg" class="img-fluid figure-img"></p>
<figcaption>Stranger Things</figcaption>
</figure>
</div>
<section id="about-stranger-things" class="level4">
<h4 class="anchored" data-anchor-id="about-stranger-things">About Stranger Things</h4>
<p>Stranger Things is a Netflix Original created by twin writer-directors Matt and Ross Duffer (the “Duffer Brothers”). Produced with 21 Laps Entertainment (Shawn Levy, Dan Cohen) and Monkey Massacre Productions, the series debuted in <strong>2016</strong> and is set in the 1980s in the fictional town of Hawkins, Indiana. Blending coming-of-age drama, sci-fi, and horror, the show follows a group of kids confronting supernatural threats and secret government experiments. Stranger Things streams exclusively on Netflix in more than 190 countries.</p>
<p>Arriving in late 2025, Stranger Things closes out four seasons of global dominance with <strong>2,967,980,000</strong> total hours viewed and a remarkable <strong>20</strong> weeks in the Global Top 10. The show’s momentum across its first four seasons underscores a rare blend of longevity and mass appeal that continues to build anticipation for Season 5.</p>
</section>
<section id="a-truly-global-phenomenon" class="level4">
<h4 class="anchored" data-anchor-id="a-truly-global-phenomenon">A Truly Global Phenomenon</h4>
<p>Across <strong>93</strong> countries, Stranger Things became a weekly mainstay—especially in its top markets: <strong>Pakistan (24 weeks), Ukraine (24 weeks), India (22 weeks)</strong>. This multinational footprint reflects broad cultural resonance, sustained word of mouth, and week-over-week stickiness across diverse regions.</p>
</section>
<section id="outpacing-other-english-language-hits" class="level4">
<h4 class="anchored" data-anchor-id="outpacing-other-english-language-hits">Outpacing Other English-Language Hits</h4>
<p>Against fellow breakout Wednesday, Stranger Things leads on multiple dimensions: <strong>2,967,980,000</strong> vs <strong>2,842,150,000</strong> total hours viewed. The forthcoming final season builds on this foundation—poised to deliver the most widely followed chapter yet.</p>
</section>
</section>
<section id="india-a-rising-streaming-powerhouse" class="level2">
<h2 class="anchored" data-anchor-id="india-a-rising-streaming-powerhouse">India: A Rising Streaming Powerhouse</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="The_Great_Indian.jpg" class="img-fluid figure-img" style="width:100.0%" alt="The Great Indian"></p>
<figcaption>The Great Indian</figcaption>
</figure>
</div>
<p><strong>India, one of the world’s most populous countries</strong> (approx. 1,467,231,932 population), is a high-potential streaming market. Titles that resonate with Indian audiences have collectively accumulated <strong>14,632,890,000</strong> hours viewed (global total across these India-favorite titles). Reflecting that demand, Netflix has increased its investment in locally appealing stories; our sample includes <strong>691</strong> titles that charted in India without ever charting in the U.S.</p>
<p>One of the most durable hits was <strong>The Great Indian Kapil Show</strong>, which spent <strong>44</strong> weeks in India’s Top 10—evidence of sustained word-of-mouth and strong local appeal. The title’s endurance underscores the appetite for stories that blend familiar settings, star power, and high-stakes drama tailored to regional tastes.</p>
<p>To visualize momentum, the chart below shows a steep upward trend in monthly viewing hours among India-favorite titles, with a clear peak in <strong>Dec 2023</strong> (≈ <strong>738,300,000</strong> hours). A second chart highlights the Top 10 India-favorite hits by their total weeks in India’s Top 10.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp01_files/figure-html/pr2-india-trend-plot-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>India market momentum (2021–2024): Monthly viewing hours across India-favorite titles (global hours).</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp01_files/figure-html/pr2-india-top10-plot-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Top 10 India-favorite titles by weeks in India’s Top 10.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="money-heist-global-success-across-markets" class="level2">
<h2 class="anchored" data-anchor-id="money-heist-global-success-across-markets">Money Heist: Global Success Across Markets</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Money-Heist.png" class="img-fluid figure-img" style="width:100.0%" alt="Money Heist"></p>
<figcaption>Money Heist</figcaption>
</figure>
</div>
<section id="about-money-heist" class="level3">
<h3 class="anchored" data-anchor-id="about-money-heist">About Money Heist</h3>
<p>Money Heist (La Casa de Papel) is a Spanish heist drama created by Álex Pina and produced by Vancouver Media. The series premiered on Spain’s Antena 3 in 2017 and was later re-edited and expanded by Netflix for a global audience. Set largely in Madrid, it follows “The Professor” and a crew of thieves—codenamed after cities—as they execute meticulously planned robberies at the Royal Mint of Spain and the Bank of Spain. Known for its nonlinear storytelling, Tokyo’s wry voiceover, and the iconic red jumpsuits and Dalí masks, Money Heist streams worldwide on Netflix.</p>
<section id="global-breakout" class="level4">
<h4 class="anchored" data-anchor-id="global-breakout">Global Breakout</h4>
<p>Money Heist emerged as a cross-cultural phenomenon on Netflix, charting in <strong>93</strong> countries and amassing <strong>1,185,400,000</strong> total hours viewed across <strong>16</strong> distinct weeks in the Global Top 10. These results show durable audience engagement far beyond its original language.</p>
</section>
<section id="cross-market-traction." class="level4">
<h4 class="anchored" data-anchor-id="cross-market-traction.">Cross-Market Traction.</h4>
<p>Sustained momentum came from multiple regions, led by <strong>Pakistan</strong> (<strong>128</strong> weeks in the local Top 10), with additional strength in <strong>Ukraine</strong> and <strong>India</strong>. The series’ performance across diverse cultures underscores broad appeal—driven by high-stakes plotting, iconic imagery, and word-of-mouth.</p>
</section>
<section id="business-opportunity." class="level4">
<h4 class="anchored" data-anchor-id="business-opportunity.">Business Opportunity.</h4>
<p>As one of the platform’s most resonant Spanish-language hits, Money Heist demonstrates that local-language originals can achieve global scale. The multi-region traction and long tail suggest a clear opportunity: continue investing in Spanish-language series that blend strong hooks with universal themes to reach audiences worldwide.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp01_files/figure-html/pr3-moneyheist-top-countries-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Money Heist — Top countries by weeks in each country’s Top 10.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mp01_files/figure-html/mh-season-hours-plot-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Money Heist — Total global hours viewed by season.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<ul>
<li><p><strong>Data preparation mattered</strong>. Cleaning missing values, standardizing titles, and converting runtimes (hours to minutes) made the dataset analysis-ready and the results reproducible.</p></li>
<li><p><strong>Exploratory questions delivered insight.</strong></p>
<ul>
<li><p>Identified where Netflix activity is strongest and which titles dominate engagement (e.g., Squid Game among the most-watched series globally).</p></li>
<li><p>Showed strong debut momentum—for example, Emily in Paris entered the Top 10 across many countries in its first week.</p></li>
<li><p>Surfaced policy/market dynamics: Russia is the only country with &lt;200 weeks of service in our data, aligning with Netflix’s 2022 suspension there.</p></li>
</ul></li>
<li><p><strong>Franchise spotlights.</strong></p>
<ul>
<li><p>Stranger Things: exceptional reach and longevity (billions of hours viewed; sustained Top-10 presence across multiple regions).</p></li>
<li><p>India market: clear demand for locally resonant stories; titles like The Great Indian Kapil Show stood out, and month-to-month trends indicate continued momentum.</p></li>
<li><p>Money Heist (La Casa de Papel): a Spanish-language series that became a global hit, with significant traction in many non-Spanish-speaking markets—evidence for continued investment in Spanish-language originals with universal themes.</p></li>
</ul></li>
</ul>
<section id="personal-reflection" class="level3">
<h3 class="anchored" data-anchor-id="personal-reflection">Personal reflection</h3>
<p>Working through this analysis helped me grow both technically and communicatively. I practiced core dplyr workflows (including multi-table operations), built DT tables for “publication-quality” presentation, created ggplot2 visualizations, and used Quarto features such as code hiding, figure captions, and clean sectioning. Most importantly, I learned to connect data work to a business narrative—showing how careful cleaning, clear questions, and reproducible code can reveal market opportunities and inform content strategy.</p>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li>Netflix Newsroom/Press: “Stranger Things renewed for Season 4…” (confirms creators &amp; producers). <a href="https://about.netflix.com/en/news/stranger-things-renewed-for-season-4-as-netflix-makes-overall-deal-with-the-duffer-brothers?utm_source=chatgpt.com">Netflix</a></li>
<li><a href="https://www.worldometers.info/world-population/india-population/">Worldometer</a></li>
<li>Money Heist (La casa de papel) — overview and original Antena 3 broadcast dates. <a href="https://en.wikipedia.org/wiki/Money_Heist?utm_source=chatgpt.com">Wikipedia</a></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/Cristinam01\.github\.io\/STA9750-2025-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>